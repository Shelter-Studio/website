{"meta":{"version":1,"warehouse":"4.0.1"},"models":{"Asset":[{"_id":"source/CNAME","path":"CNAME","modified":1,"renderable":0},{"_id":"themes/apollo/source/favicon.ico","path":"favicon.ico","modified":1,"renderable":1},{"_id":"themes/apollo/source/logo.png","path":"logo.png","modified":1,"renderable":1},{"_id":"themes/apollo/source/css/apollo.css","path":"css/apollo.css","modified":1,"renderable":1},{"_id":"themes/apollo/source/font/sourcesanspro.woff2","path":"font/sourcesanspro.woff2","modified":1,"renderable":1},{"_id":"themes/apollo/source/font/sourcesanspro.woff","path":"font/sourcesanspro.woff","modified":1,"renderable":1},{"_id":"themes/apollo/source/scss/apollo.scss","path":"scss/apollo.scss","modified":1,"renderable":1},{"_id":"themes/apollo/source/js/highlight-custom.js","path":"js/highlight-custom.js","modified":1,"renderable":1}],"Cache":[{"_id":"source/CNAME","hash":"1ef12fc9ff477bd261053145b7d8c6eea44d2f77","modified":1650551997856},{"_id":"source/_posts/获取-Minecraft-正版玩家皮肤.md","hash":"e1e198e04e6bafc0e1d540b86d4a547d136d43df","modified":1650701118549},{"_id":"source/_posts/起点.md","hash":"11600a637ef43f52ede829a42e4707a40430dca6","modified":1650589347029},{"_id":"source/_posts/获取-Minecraft-正版玩家皮肤/skinFetcher.py","hash":"de9ace9d80efc24e38429cbcc3169997b97cec43","modified":1650699921712},{"_id":"source/_posts/获取-Minecraft-正版玩家皮肤/skinFetcher.ps1","hash":"00cfc5826581a4a3d64e95e7db0586a11c9092a2","modified":1650699956224},{"_id":"themes/apollo/source/favicon.ico","hash":"966ffef2ba10629b968d37a2c71e0d95d44598e1","modified":1650529012671},{"_id":"themes/apollo/_config.yml","hash":"9c05183c95b80f40fef58a3a09db34b9baf22bbc","modified":1650682196013},{"_id":"themes/apollo/languages/en.yml","hash":"ca168b190932229884db1de755ec2f793c758a16","modified":1650528131047},{"_id":"themes/apollo/layout/archive.pug","hash":"62797414355bf4474092bc3a32726c8340820ffb","modified":1650528131052},{"_id":"themes/apollo/source/logo.png","hash":"133879d1fc0b27341564f915c9609cc87e0b306b","modified":1648103891264},{"_id":"themes/apollo/layout/post.pug","hash":"245c26244c075c3632d1545c3b228ee9d112f15d","modified":1650528131090},{"_id":"themes/apollo/languages/zh-cn.yml","hash":"a5444d331c0bb1ed5ef6546a425e1f340f657e27","modified":1650531661598},{"_id":"themes/apollo/source/css/apollo.css","hash":"7408258e6e9a161bc7e5c477f629d9b32ec8ba8b","modified":1650701735202},{"_id":"themes/apollo/layout/index.pug","hash":"55f2f1b4b5364a0e09cb18e1112664c6415fb881","modified":1650528131054},{"_id":"themes/apollo/source/font/sourcesanspro.woff2","hash":"da65f527a8da65d5eb6721626d28cfdb46ab104a","modified":1650528131112},{"_id":"themes/apollo/source/font/sourcesanspro.woff","hash":"a6722c9b6439b7a020a9be3d3178970757a9265c","modified":1650528131108},{"_id":"themes/apollo/source/scss/apollo.scss","hash":"cf62de84efcc08f5a4072c110c4206d0200c5560","modified":1650700738245},{"_id":"themes/apollo/source/js/highlight-custom.js","hash":"8d1b54e6cd7dd5492f10a0994f5ae9478ab2c213","modified":1650697164905},{"_id":"themes/apollo/layout/partial/comment.pug","hash":"ff0a2c269c2434da2ac5529872f1d6184a71f96d","modified":1650528131067},{"_id":"themes/apollo/layout/partial/head.pug","hash":"ce157273b586c4a2256f8ee69329148305725693","modified":1650697081385},{"_id":"themes/apollo/layout/partial/copyright.pug","hash":"0acb8d4505a21a84a86b7ef87a8126d584210007","modified":1650529520661},{"_id":"themes/apollo/layout/partial/layout.pug","hash":"ce990aff3c4e9900dfb4fb04acc6740ff6cee411","modified":1650529403189},{"_id":"themes/apollo/layout/partial/scripts.pug","hash":"6bff591ae3d1ff6750f239c4c933ad61f009f36a","modified":1650528131087},{"_id":"themes/apollo/layout/partial/nav.pug","hash":"8b4047bcd510bec31e01a610eba69a7080dc9fd1","modified":1650700775608},{"_id":"themes/apollo/layout/mixins/paginator.pug","hash":"f4ee2fb61a32e199b48cf93771749edc8a007391","modified":1650528131060},{"_id":"themes/apollo/layout/mixins/post.pug","hash":"f23c6c40e14cdf16783b3c2baf736c9dce18408c","modified":1650528131063},{"_id":"themes/apollo/source/scss/_partial/base.scss","hash":"2dc6bcef573c9384c6ee64f202bd8fa4b1c7f4f1","modified":1650694700942},{"_id":"themes/apollo/source/scss/_partial/copyright.scss","hash":"1309667e3000037170cfbb5b8c9c65f4ffcf6814","modified":1650528131131},{"_id":"themes/apollo/source/scss/_partial/custom.scss","hash":"6bc5af0444612095294c63b06404eab7561b002f","modified":1650701042314},{"_id":"themes/apollo/source/scss/_partial/archive-post-list.scss","hash":"0ca53c52558d4719aeedff9aca03ee138d3607b6","modified":1650689590258},{"_id":"themes/apollo/source/scss/_partial/footer.scss","hash":"adba4607d79c8452d3f1310c1a8834208ee935dc","modified":1650701731036},{"_id":"themes/apollo/source/scss/_partial/home-post-list.scss","hash":"02568dbf81652052fb0464605ae7d5eac41507b3","modified":1650689590258},{"_id":"themes/apollo/source/scss/_partial/header.scss","hash":"153bde88bf8ffeae4ffd813d8cc694dd83d33d94","modified":1650528131141},{"_id":"themes/apollo/source/scss/_partial/mq.scss","hash":"fc5dda52cfbb10e27e2471e03f4606fb3d588225","modified":1650528131148},{"_id":"themes/apollo/source/scss/_partial/post.scss","hash":"221d862ae91dad61ad7999d41ebc77a7c14d2f07","modified":1650694696113},{"_id":"themes/apollo/source/scss/_partial/normalize.scss","hash":"fd0b27bed6f103ea95b08f698ea663ff576dbcf1","modified":1650528131152},{"_id":"public/sitemap.xml","hash":"d78b854a2a753737c1c940424bd7a24dd2fe9459","modified":1650703420624},{"_id":"public/atom.xml","hash":"fdcb0fd5ad45f4a8c9db10ac8349d050d15ff28f","modified":1650703420624},{"_id":"public/sitemap.txt","hash":"5ddc93ba1959db30c6f9d8349a8698f4cd6bb8da","modified":1650703420624},{"_id":"public/770ff2cc819f/index.html","hash":"149f08d0f4cae560b79306bd01bc20db77dcda0c","modified":1650703420624},{"_id":"public/03ea5e0afdd2/index.html","hash":"ea908c13809087357660e6aed544024d7efa2f18","modified":1650703420624},{"_id":"public/categories/Minecraft/index.html","hash":"5b050f72353931b8e2f1a622124018cdda400082","modified":1650703420624},{"_id":"public/categories/Announcement/index.html","hash":"7e20666870b703037ab8b4ef1e7dc20a9bd49c8d","modified":1650703420624},{"_id":"public/index.html","hash":"c24b1461fb443f310e09c9e58b234abedb015ac4","modified":1650703420624},{"_id":"public/archives/index.html","hash":"751d6b65ba00e3f01121ccd7b4e1b79f55a9ab79","modified":1650703420624},{"_id":"public/tags/Minecraft/index.html","hash":"5b050f72353931b8e2f1a622124018cdda400082","modified":1650703420624},{"_id":"public/tags/Announcement/index.html","hash":"7e20666870b703037ab8b4ef1e7dc20a9bd49c8d","modified":1650703420624},{"_id":"public/tags/PowerShell/index.html","hash":"5b050f72353931b8e2f1a622124018cdda400082","modified":1650703420624},{"_id":"public/tags/Python/index.html","hash":"5b050f72353931b8e2f1a622124018cdda400082","modified":1650703420624},{"_id":"public/CNAME","hash":"1ef12fc9ff477bd261053145b7d8c6eea44d2f77","modified":1650703420624},{"_id":"public/favicon.ico","hash":"966ffef2ba10629b968d37a2c71e0d95d44598e1","modified":1650703420624},{"_id":"public/logo.png","hash":"133879d1fc0b27341564f915c9609cc87e0b306b","modified":1650703420624},{"_id":"public/font/sourcesanspro.woff","hash":"a6722c9b6439b7a020a9be3d3178970757a9265c","modified":1650703420624},{"_id":"public/font/sourcesanspro.woff2","hash":"da65f527a8da65d5eb6721626d28cfdb46ab104a","modified":1650703420624},{"_id":"public/scss/apollo.scss","hash":"cf62de84efcc08f5a4072c110c4206d0200c5560","modified":1650703420624},{"_id":"public/770ff2cc819f/skinFetcher.ps1","hash":"00cfc5826581a4a3d64e95e7db0586a11c9092a2","modified":1650703420624},{"_id":"public/770ff2cc819f/skinFetcher.py","hash":"de9ace9d80efc24e38429cbcc3169997b97cec43","modified":1650703420624},{"_id":"public/css/apollo.css","hash":"7408258e6e9a161bc7e5c477f629d9b32ec8ba8b","modified":1650703420624},{"_id":"public/js/highlight-custom.js","hash":"c266c299fc20f123b40d4f53dcf5d75317edfc8f","modified":1650703420624}],"Category":[{"name":"Minecraft","_id":"cl2bm7az10002tv4w52x07dfi"},{"name":"Announcement","_id":"cl2bm7az50004tv4wapqu74kb"}],"Data":[],"Page":[],"Post":[{"title":"获取 Minecraft 正版玩家皮肤","date":"2021-07-26T04:18:02.000Z","excerpt":"前段日子和朋友玩 Hypixel 的时候，朋友问我能不能把某个玩家的皮肤给下载下来私用。我当时使用了 NameMC 获取玩家皮肤，但后来用来获取玩家的 UUID 时，发现有些玩家没办法搜到。这也就催生了我去寻找远古方法，直接通过 Mojang 服务器获取玩家皮肤、UUID 等信息的想法。","_content":"\n## 引子\n\n前段日子和朋友玩 Hypixel 的时候，朋友问我能不能把某个玩家的皮肤给下载下来私用。我当时使用了 [NameMC](https://namemc.com) 获取玩家皮肤，但后来用来获取玩家的 UUID 时，发现有些玩家没办法搜到。这也就催生了我去寻找远古方法，直接通过 Mojang 服务器获取玩家皮肤、UUID 等信息的想法。\n\n<!-- more -->\n\n## 原理阐释\n\n首先，我们通过 Mojang 提供的官方 *API* `api.mojang.com/users/profiles/minecraft/[ID]` 获取玩家的 UUID。对应填入玩家 ID，访问后就可以获取一段对应的 JSON，格式大概如下：\n\n``` json\n{\"name\":\"XavierWah\",\"id\":\"0be6e8232e5f4cb198320792b0da9188\"}\n```\n\n很明显可以看出，这段信息中键 `name` 为玩家 ID，键 `id` 为玩家 UUID。玩家的 UUID 到手后，我们可以通过 *Session Server* `sessionserver.mojang.com/session/minecraft/profile/[UUID]` 获取到玩家的材质信息，同样是一段 JSON，格式大概如下：\n\n``` json\n{\n  \"id\" : \"0be6e8232e5f4cb198320792b0da9188\",\n  \"name\" : \"XavierWah\",\n  \"properties\" : [ {\n    \"name\" : \"textures\",\n    \"value\" : \"ewogICJ0aW1lc3RhbXAiIDogMTYyNzI5Mjk3NDkwMCwKICAicHJvZmlsZUlkIiA6ICIwYmU2ZTgyMzJlNWY0Y2IxOTgzMjA3OTJiMGRhOTE4OCIsCiAgInByb2ZpbGVOYW1lIiA6ICJYYXZpZXJXYWgiLAogICJ0ZXh0dXJlcyIgOiB7CiAgICAiU0tJTiIgOiB7CiAgICAgICJ1cmwiIDogImh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvN2NiMzkxMTdhN2U4ZmYxYjE0M2VmMGU4YzRiMDg5MjA0ZTk3YTBlNmQwMGRjZjRlNjkxYWFmODlmNzhkOWQzMSIsCiAgICAgICJtZXRhZGF0YSIgOiB7CiAgICAgICAgIm1vZGVsIiA6ICJzbGltIgogICAgICB9CiAgICB9CiAgfQp9\"\n  } ]\n}\n```\n\n这段里我们需要的信息，就是此处键 `value` 的值。这是一段经过 Base64 加密后的信息，解密后仍是一段 JSON，格式大概如下：\n\n``` json\n{\n  \"timestamp\" : 1627294093042,\n  \"profileId\" : \"0be6e8232e5f4cb198320792b0da9188\",\n  \"profileName\" : \"XavierWah\",\n  \"textures\" : {\n    \"SKIN\" : {\n      \"url\" : \"http://textures.minecraft.net/texture/7cb39117a7e8ff1b143ef0e8c4b089204e97a0e6d00dcf4e691aaf89f78d9d31\",\n      \"metadata\" : {\n        \"model\" : \"slim\"\n      }\n    }\n  }\n}\n```\n\n此处的 `timestamp` 为我们访问网站时的时间戳，`SKIN` 中键 `url` 的值代表玩家皮肤的网址、键 `model` 的值代表玩家皮肤的种类（这个键不一定存在，但纤细一定是 `slim`）。访问这个网址，就得到了玩家的皮肤。人工操作起来很复杂，需要辗转多次才能得到最终结果，并且中途还需要进行一次 Base64 解码，于是我便写了一个程序来帮助我获取玩家信息。\n\n## 代码解剖\n\n<i class=\"download-icon fa-solid fa-cloud-arrow-down\"></i> <a href=\"skinFetcher.py\" download>下载 `skinFetcher.py`</a> 下方的代码。\n\n``` python\nimport requests\nimport base64\nimport json\n\nusername = input('输入要获取皮肤玩家 ID：').split()[0]\n\n# 获取用户 UUID\napiWeb = requests.get('https://api.mojang.com/users/profiles/minecraft/{}'.format(username)).content\nuseruuid = json.loads(apiWeb)['id']\n\n# 获取用户信息对应 Base64\nsessionWeb = requests.get('https://sessionserver.mojang.com/session/minecraft/profile/{}'.format(useruuid)).content\nuserbase = json.loads(sessionWeb)['properties'][0]['value'].encode('utf-8')\n\n# 解码 Base64 并下载用户皮肤\nuserskin = json.loads(base64.b64decode(userbase))['textures']['SKIN']['url']\nfetch = open('{}.png'.format(username), 'wb').write(requests.get(userskin).content)\n\ninput('已保存至同级目录下，按回车键退出。')\n```\n\n由于有些人没有装 Python，所以我又用 PowerShell 写了一个功能一样的。\n\n<i class=\"download-icon fa-solid fa-cloud-arrow-down\"></i> <a href=\"skinFetcher.ps1\" download>下载 `skinFetcher.ps1`</a> 下方的代码。\n\n``` powershell\n$username = Read-Host '输入要获取皮肤玩家 ID'\n\n# 获取用户 UUID\n$apiWeb = ( Invoke-WebRequest -Uri ( 'https://api.mojang.com/users/profiles/minecraft/' + $username ) ).Content\n$useruuid = ( $apiWeb | ConvertFrom-Json ).id\n\n# 获取用户信息对应 Base64\n$sessionWeb = ( Invoke-WebRequest -Uri ( 'https://sessionserver.mojang.com/session/minecraft/profile/' + $useruuid ) ).Content\n$userbase = ( $sessionWeb | ConvertFrom-Json ).properties.value\n\n# 解码 Base64 并下载用户皮肤\n$userskin = ( ( [Text.Encoding]::ASCII.GetString([Convert]::FromBase64String($userbase)) ) | ConvertFrom-Json ).textures.SKIN.url\nInvoke-WebRequest $userskin -OutFile ( ($pwd).Path + '\\' + $username + '.png' )\n\nRead-Host '已保存至同级目录下，按回车键退出。'\n```\n\n以上代码的逻辑和我们人工操作是一个流程。运行程序之后，直接根据提示输入玩家 ID 即可，皮肤会自动下载到运行目录中。\n","source":"_posts/获取-Minecraft-正版玩家皮肤.md","raw":"---\ntitle: 获取 Minecraft 正版玩家皮肤\ndate: 2021-07-26 12:18:02\ncategories: Minecraft\ntags:\n  - Minecraft\n  - Python\n  - PowerShell\nexcerpt: 前段日子和朋友玩 Hypixel 的时候，朋友问我能不能把某个玩家的皮肤给下载下来私用。我当时使用了 NameMC 获取玩家皮肤，但后来用来获取玩家的 UUID 时，发现有些玩家没办法搜到。这也就催生了我去寻找远古方法，直接通过 Mojang 服务器获取玩家皮肤、UUID 等信息的想法。\n---\n\n## 引子\n\n前段日子和朋友玩 Hypixel 的时候，朋友问我能不能把某个玩家的皮肤给下载下来私用。我当时使用了 [NameMC](https://namemc.com) 获取玩家皮肤，但后来用来获取玩家的 UUID 时，发现有些玩家没办法搜到。这也就催生了我去寻找远古方法，直接通过 Mojang 服务器获取玩家皮肤、UUID 等信息的想法。\n\n<!-- more -->\n\n## 原理阐释\n\n首先，我们通过 Mojang 提供的官方 *API* `api.mojang.com/users/profiles/minecraft/[ID]` 获取玩家的 UUID。对应填入玩家 ID，访问后就可以获取一段对应的 JSON，格式大概如下：\n\n``` json\n{\"name\":\"XavierWah\",\"id\":\"0be6e8232e5f4cb198320792b0da9188\"}\n```\n\n很明显可以看出，这段信息中键 `name` 为玩家 ID，键 `id` 为玩家 UUID。玩家的 UUID 到手后，我们可以通过 *Session Server* `sessionserver.mojang.com/session/minecraft/profile/[UUID]` 获取到玩家的材质信息，同样是一段 JSON，格式大概如下：\n\n``` json\n{\n  \"id\" : \"0be6e8232e5f4cb198320792b0da9188\",\n  \"name\" : \"XavierWah\",\n  \"properties\" : [ {\n    \"name\" : \"textures\",\n    \"value\" : \"ewogICJ0aW1lc3RhbXAiIDogMTYyNzI5Mjk3NDkwMCwKICAicHJvZmlsZUlkIiA6ICIwYmU2ZTgyMzJlNWY0Y2IxOTgzMjA3OTJiMGRhOTE4OCIsCiAgInByb2ZpbGVOYW1lIiA6ICJYYXZpZXJXYWgiLAogICJ0ZXh0dXJlcyIgOiB7CiAgICAiU0tJTiIgOiB7CiAgICAgICJ1cmwiIDogImh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvN2NiMzkxMTdhN2U4ZmYxYjE0M2VmMGU4YzRiMDg5MjA0ZTk3YTBlNmQwMGRjZjRlNjkxYWFmODlmNzhkOWQzMSIsCiAgICAgICJtZXRhZGF0YSIgOiB7CiAgICAgICAgIm1vZGVsIiA6ICJzbGltIgogICAgICB9CiAgICB9CiAgfQp9\"\n  } ]\n}\n```\n\n这段里我们需要的信息，就是此处键 `value` 的值。这是一段经过 Base64 加密后的信息，解密后仍是一段 JSON，格式大概如下：\n\n``` json\n{\n  \"timestamp\" : 1627294093042,\n  \"profileId\" : \"0be6e8232e5f4cb198320792b0da9188\",\n  \"profileName\" : \"XavierWah\",\n  \"textures\" : {\n    \"SKIN\" : {\n      \"url\" : \"http://textures.minecraft.net/texture/7cb39117a7e8ff1b143ef0e8c4b089204e97a0e6d00dcf4e691aaf89f78d9d31\",\n      \"metadata\" : {\n        \"model\" : \"slim\"\n      }\n    }\n  }\n}\n```\n\n此处的 `timestamp` 为我们访问网站时的时间戳，`SKIN` 中键 `url` 的值代表玩家皮肤的网址、键 `model` 的值代表玩家皮肤的种类（这个键不一定存在，但纤细一定是 `slim`）。访问这个网址，就得到了玩家的皮肤。人工操作起来很复杂，需要辗转多次才能得到最终结果，并且中途还需要进行一次 Base64 解码，于是我便写了一个程序来帮助我获取玩家信息。\n\n## 代码解剖\n\n<i class=\"download-icon fa-solid fa-cloud-arrow-down\"></i> <a href=\"skinFetcher.py\" download>下载 `skinFetcher.py`</a> 下方的代码。\n\n``` python\nimport requests\nimport base64\nimport json\n\nusername = input('输入要获取皮肤玩家 ID：').split()[0]\n\n# 获取用户 UUID\napiWeb = requests.get('https://api.mojang.com/users/profiles/minecraft/{}'.format(username)).content\nuseruuid = json.loads(apiWeb)['id']\n\n# 获取用户信息对应 Base64\nsessionWeb = requests.get('https://sessionserver.mojang.com/session/minecraft/profile/{}'.format(useruuid)).content\nuserbase = json.loads(sessionWeb)['properties'][0]['value'].encode('utf-8')\n\n# 解码 Base64 并下载用户皮肤\nuserskin = json.loads(base64.b64decode(userbase))['textures']['SKIN']['url']\nfetch = open('{}.png'.format(username), 'wb').write(requests.get(userskin).content)\n\ninput('已保存至同级目录下，按回车键退出。')\n```\n\n由于有些人没有装 Python，所以我又用 PowerShell 写了一个功能一样的。\n\n<i class=\"download-icon fa-solid fa-cloud-arrow-down\"></i> <a href=\"skinFetcher.ps1\" download>下载 `skinFetcher.ps1`</a> 下方的代码。\n\n``` powershell\n$username = Read-Host '输入要获取皮肤玩家 ID'\n\n# 获取用户 UUID\n$apiWeb = ( Invoke-WebRequest -Uri ( 'https://api.mojang.com/users/profiles/minecraft/' + $username ) ).Content\n$useruuid = ( $apiWeb | ConvertFrom-Json ).id\n\n# 获取用户信息对应 Base64\n$sessionWeb = ( Invoke-WebRequest -Uri ( 'https://sessionserver.mojang.com/session/minecraft/profile/' + $useruuid ) ).Content\n$userbase = ( $sessionWeb | ConvertFrom-Json ).properties.value\n\n# 解码 Base64 并下载用户皮肤\n$userskin = ( ( [Text.Encoding]::ASCII.GetString([Convert]::FromBase64String($userbase)) ) | ConvertFrom-Json ).textures.SKIN.url\nInvoke-WebRequest $userskin -OutFile ( ($pwd).Path + '\\' + $username + '.png' )\n\nRead-Host '已保存至同级目录下，按回车键退出。'\n```\n\n以上代码的逻辑和我们人工操作是一个流程。运行程序之后，直接根据提示输入玩家 ID 即可，皮肤会自动下载到运行目录中。\n","slug":"获取-Minecraft-正版玩家皮肤","published":1,"updated":"2022-04-23T08:05:18.549Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl2bm7ayq0000tv4wbsh85l7l","content":"<h2 id=\"引子\"><a href=\"#引子\" class=\"headerlink\" title=\"引子\"></a>引子</h2><p>前段日子和朋友玩 Hypixel 的时候，朋友问我能不能把某个玩家的皮肤给下载下来私用。我当时使用了 <a href=\"https://namemc.com/\">NameMC</a> 获取玩家皮肤，但后来用来获取玩家的 UUID 时，发现有些玩家没办法搜到。这也就催生了我去寻找远古方法，直接通过 Mojang 服务器获取玩家皮肤、UUID 等信息的想法。</p>\n<!-- more -->\n\n<h2 id=\"原理阐释\"><a href=\"#原理阐释\" class=\"headerlink\" title=\"原理阐释\"></a>原理阐释</h2><p>首先，我们通过 Mojang 提供的官方 <em>API</em> <code>api.mojang.com/users/profiles/minecraft/[ID]</code> 获取玩家的 UUID。对应填入玩家 ID，访问后就可以获取一段对应的 JSON，格式大概如下：</p>\n<pre><code class=\"json\">&#123;&quot;name&quot;:&quot;XavierWah&quot;,&quot;id&quot;:&quot;0be6e8232e5f4cb198320792b0da9188&quot;&#125;\n</code></pre>\n<p>很明显可以看出，这段信息中键 <code>name</code> 为玩家 ID，键 <code>id</code> 为玩家 UUID。玩家的 UUID 到手后，我们可以通过 <em>Session Server</em> <code>sessionserver.mojang.com/session/minecraft/profile/[UUID]</code> 获取到玩家的材质信息，同样是一段 JSON，格式大概如下：</p>\n<pre><code class=\"json\">&#123;\n  &quot;id&quot; : &quot;0be6e8232e5f4cb198320792b0da9188&quot;,\n  &quot;name&quot; : &quot;XavierWah&quot;,\n  &quot;properties&quot; : [ &#123;\n    &quot;name&quot; : &quot;textures&quot;,\n    &quot;value&quot; : &quot;ewogICJ0aW1lc3RhbXAiIDogMTYyNzI5Mjk3NDkwMCwKICAicHJvZmlsZUlkIiA6ICIwYmU2ZTgyMzJlNWY0Y2IxOTgzMjA3OTJiMGRhOTE4OCIsCiAgInByb2ZpbGVOYW1lIiA6ICJYYXZpZXJXYWgiLAogICJ0ZXh0dXJlcyIgOiB7CiAgICAiU0tJTiIgOiB7CiAgICAgICJ1cmwiIDogImh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvN2NiMzkxMTdhN2U4ZmYxYjE0M2VmMGU4YzRiMDg5MjA0ZTk3YTBlNmQwMGRjZjRlNjkxYWFmODlmNzhkOWQzMSIsCiAgICAgICJtZXRhZGF0YSIgOiB7CiAgICAgICAgIm1vZGVsIiA6ICJzbGltIgogICAgICB9CiAgICB9CiAgfQp9&quot;\n  &#125; ]\n&#125;\n</code></pre>\n<p>这段里我们需要的信息，就是此处键 <code>value</code> 的值。这是一段经过 Base64 加密后的信息，解密后仍是一段 JSON，格式大概如下：</p>\n<pre><code class=\"json\">&#123;\n  &quot;timestamp&quot; : 1627294093042,\n  &quot;profileId&quot; : &quot;0be6e8232e5f4cb198320792b0da9188&quot;,\n  &quot;profileName&quot; : &quot;XavierWah&quot;,\n  &quot;textures&quot; : &#123;\n    &quot;SKIN&quot; : &#123;\n      &quot;url&quot; : &quot;http://textures.minecraft.net/texture/7cb39117a7e8ff1b143ef0e8c4b089204e97a0e6d00dcf4e691aaf89f78d9d31&quot;,\n      &quot;metadata&quot; : &#123;\n        &quot;model&quot; : &quot;slim&quot;\n      &#125;\n    &#125;\n  &#125;\n&#125;\n</code></pre>\n<p>此处的 <code>timestamp</code> 为我们访问网站时的时间戳，<code>SKIN</code> 中键 <code>url</code> 的值代表玩家皮肤的网址、键 <code>model</code> 的值代表玩家皮肤的种类（这个键不一定存在，但纤细一定是 <code>slim</code>）。访问这个网址，就得到了玩家的皮肤。人工操作起来很复杂，需要辗转多次才能得到最终结果，并且中途还需要进行一次 Base64 解码，于是我便写了一个程序来帮助我获取玩家信息。</p>\n<h2 id=\"代码解剖\"><a href=\"#代码解剖\" class=\"headerlink\" title=\"代码解剖\"></a>代码解剖</h2><p><i class=\"download-icon fa-solid fa-cloud-arrow-down\"></i> <a href=\"skinFetcher.py\" download>下载 <code>skinFetcher.py</code></a> 下方的代码。</p>\n<pre><code class=\"python\">import requests\nimport base64\nimport json\n\nusername = input(&#39;输入要获取皮肤玩家 ID：&#39;).split()[0]\n\n# 获取用户 UUID\napiWeb = requests.get(&#39;https://api.mojang.com/users/profiles/minecraft/&#123;&#125;&#39;.format(username)).content\nuseruuid = json.loads(apiWeb)[&#39;id&#39;]\n\n# 获取用户信息对应 Base64\nsessionWeb = requests.get(&#39;https://sessionserver.mojang.com/session/minecraft/profile/&#123;&#125;&#39;.format(useruuid)).content\nuserbase = json.loads(sessionWeb)[&#39;properties&#39;][0][&#39;value&#39;].encode(&#39;utf-8&#39;)\n\n# 解码 Base64 并下载用户皮肤\nuserskin = json.loads(base64.b64decode(userbase))[&#39;textures&#39;][&#39;SKIN&#39;][&#39;url&#39;]\nfetch = open(&#39;&#123;&#125;.png&#39;.format(username), &#39;wb&#39;).write(requests.get(userskin).content)\n\ninput(&#39;已保存至同级目录下，按回车键退出。&#39;)\n</code></pre>\n<p>由于有些人没有装 Python，所以我又用 PowerShell 写了一个功能一样的。</p>\n<p><i class=\"download-icon fa-solid fa-cloud-arrow-down\"></i> <a href=\"skinFetcher.ps1\" download>下载 <code>skinFetcher.ps1</code></a> 下方的代码。</p>\n<pre><code class=\"powershell\">$username = Read-Host &#39;输入要获取皮肤玩家 ID&#39;\n\n# 获取用户 UUID\n$apiWeb = ( Invoke-WebRequest -Uri ( &#39;https://api.mojang.com/users/profiles/minecraft/&#39; + $username ) ).Content\n$useruuid = ( $apiWeb | ConvertFrom-Json ).id\n\n# 获取用户信息对应 Base64\n$sessionWeb = ( Invoke-WebRequest -Uri ( &#39;https://sessionserver.mojang.com/session/minecraft/profile/&#39; + $useruuid ) ).Content\n$userbase = ( $sessionWeb | ConvertFrom-Json ).properties.value\n\n# 解码 Base64 并下载用户皮肤\n$userskin = ( ( [Text.Encoding]::ASCII.GetString([Convert]::FromBase64String($userbase)) ) | ConvertFrom-Json ).textures.SKIN.url\nInvoke-WebRequest $userskin -OutFile ( ($pwd).Path + &#39;\\&#39; + $username + &#39;.png&#39; )\n\nRead-Host &#39;已保存至同级目录下，按回车键退出。&#39;\n</code></pre>\n<p>以上代码的逻辑和我们人工操作是一个流程。运行程序之后，直接根据提示输入玩家 ID 即可，皮肤会自动下载到运行目录中。</p>\n","site":{"data":{}},"more":"<h2 id=\"引子\"><a href=\"#引子\" class=\"headerlink\" title=\"引子\"></a>引子</h2><p>前段日子和朋友玩 Hypixel 的时候，朋友问我能不能把某个玩家的皮肤给下载下来私用。我当时使用了 <a href=\"https://namemc.com/\">NameMC</a> 获取玩家皮肤，但后来用来获取玩家的 UUID 时，发现有些玩家没办法搜到。这也就催生了我去寻找远古方法，直接通过 Mojang 服务器获取玩家皮肤、UUID 等信息的想法。</p>\n<!-- more -->\n\n<h2 id=\"原理阐释\"><a href=\"#原理阐释\" class=\"headerlink\" title=\"原理阐释\"></a>原理阐释</h2><p>首先，我们通过 Mojang 提供的官方 <em>API</em> <code>api.mojang.com/users/profiles/minecraft/[ID]</code> 获取玩家的 UUID。对应填入玩家 ID，访问后就可以获取一段对应的 JSON，格式大概如下：</p>\n<pre><code class=\"json\">&#123;&quot;name&quot;:&quot;XavierWah&quot;,&quot;id&quot;:&quot;0be6e8232e5f4cb198320792b0da9188&quot;&#125;\n</code></pre>\n<p>很明显可以看出，这段信息中键 <code>name</code> 为玩家 ID，键 <code>id</code> 为玩家 UUID。玩家的 UUID 到手后，我们可以通过 <em>Session Server</em> <code>sessionserver.mojang.com/session/minecraft/profile/[UUID]</code> 获取到玩家的材质信息，同样是一段 JSON，格式大概如下：</p>\n<pre><code class=\"json\">&#123;\n  &quot;id&quot; : &quot;0be6e8232e5f4cb198320792b0da9188&quot;,\n  &quot;name&quot; : &quot;XavierWah&quot;,\n  &quot;properties&quot; : [ &#123;\n    &quot;name&quot; : &quot;textures&quot;,\n    &quot;value&quot; : &quot;ewogICJ0aW1lc3RhbXAiIDogMTYyNzI5Mjk3NDkwMCwKICAicHJvZmlsZUlkIiA6ICIwYmU2ZTgyMzJlNWY0Y2IxOTgzMjA3OTJiMGRhOTE4OCIsCiAgInByb2ZpbGVOYW1lIiA6ICJYYXZpZXJXYWgiLAogICJ0ZXh0dXJlcyIgOiB7CiAgICAiU0tJTiIgOiB7CiAgICAgICJ1cmwiIDogImh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvN2NiMzkxMTdhN2U4ZmYxYjE0M2VmMGU4YzRiMDg5MjA0ZTk3YTBlNmQwMGRjZjRlNjkxYWFmODlmNzhkOWQzMSIsCiAgICAgICJtZXRhZGF0YSIgOiB7CiAgICAgICAgIm1vZGVsIiA6ICJzbGltIgogICAgICB9CiAgICB9CiAgfQp9&quot;\n  &#125; ]\n&#125;\n</code></pre>\n<p>这段里我们需要的信息，就是此处键 <code>value</code> 的值。这是一段经过 Base64 加密后的信息，解密后仍是一段 JSON，格式大概如下：</p>\n<pre><code class=\"json\">&#123;\n  &quot;timestamp&quot; : 1627294093042,\n  &quot;profileId&quot; : &quot;0be6e8232e5f4cb198320792b0da9188&quot;,\n  &quot;profileName&quot; : &quot;XavierWah&quot;,\n  &quot;textures&quot; : &#123;\n    &quot;SKIN&quot; : &#123;\n      &quot;url&quot; : &quot;http://textures.minecraft.net/texture/7cb39117a7e8ff1b143ef0e8c4b089204e97a0e6d00dcf4e691aaf89f78d9d31&quot;,\n      &quot;metadata&quot; : &#123;\n        &quot;model&quot; : &quot;slim&quot;\n      &#125;\n    &#125;\n  &#125;\n&#125;\n</code></pre>\n<p>此处的 <code>timestamp</code> 为我们访问网站时的时间戳，<code>SKIN</code> 中键 <code>url</code> 的值代表玩家皮肤的网址、键 <code>model</code> 的值代表玩家皮肤的种类（这个键不一定存在，但纤细一定是 <code>slim</code>）。访问这个网址，就得到了玩家的皮肤。人工操作起来很复杂，需要辗转多次才能得到最终结果，并且中途还需要进行一次 Base64 解码，于是我便写了一个程序来帮助我获取玩家信息。</p>\n<h2 id=\"代码解剖\"><a href=\"#代码解剖\" class=\"headerlink\" title=\"代码解剖\"></a>代码解剖</h2><p><i class=\"download-icon fa-solid fa-cloud-arrow-down\"></i> <a href=\"skinFetcher.py\" download>下载 <code>skinFetcher.py</code></a> 下方的代码。</p>\n<pre><code class=\"python\">import requests\nimport base64\nimport json\n\nusername = input(&#39;输入要获取皮肤玩家 ID：&#39;).split()[0]\n\n# 获取用户 UUID\napiWeb = requests.get(&#39;https://api.mojang.com/users/profiles/minecraft/&#123;&#125;&#39;.format(username)).content\nuseruuid = json.loads(apiWeb)[&#39;id&#39;]\n\n# 获取用户信息对应 Base64\nsessionWeb = requests.get(&#39;https://sessionserver.mojang.com/session/minecraft/profile/&#123;&#125;&#39;.format(useruuid)).content\nuserbase = json.loads(sessionWeb)[&#39;properties&#39;][0][&#39;value&#39;].encode(&#39;utf-8&#39;)\n\n# 解码 Base64 并下载用户皮肤\nuserskin = json.loads(base64.b64decode(userbase))[&#39;textures&#39;][&#39;SKIN&#39;][&#39;url&#39;]\nfetch = open(&#39;&#123;&#125;.png&#39;.format(username), &#39;wb&#39;).write(requests.get(userskin).content)\n\ninput(&#39;已保存至同级目录下，按回车键退出。&#39;)\n</code></pre>\n<p>由于有些人没有装 Python，所以我又用 PowerShell 写了一个功能一样的。</p>\n<p><i class=\"download-icon fa-solid fa-cloud-arrow-down\"></i> <a href=\"skinFetcher.ps1\" download>下载 <code>skinFetcher.ps1</code></a> 下方的代码。</p>\n<pre><code class=\"powershell\">$username = Read-Host &#39;输入要获取皮肤玩家 ID&#39;\n\n# 获取用户 UUID\n$apiWeb = ( Invoke-WebRequest -Uri ( &#39;https://api.mojang.com/users/profiles/minecraft/&#39; + $username ) ).Content\n$useruuid = ( $apiWeb | ConvertFrom-Json ).id\n\n# 获取用户信息对应 Base64\n$sessionWeb = ( Invoke-WebRequest -Uri ( &#39;https://sessionserver.mojang.com/session/minecraft/profile/&#39; + $useruuid ) ).Content\n$userbase = ( $sessionWeb | ConvertFrom-Json ).properties.value\n\n# 解码 Base64 并下载用户皮肤\n$userskin = ( ( [Text.Encoding]::ASCII.GetString([Convert]::FromBase64String($userbase)) ) | ConvertFrom-Json ).textures.SKIN.url\nInvoke-WebRequest $userskin -OutFile ( ($pwd).Path + &#39;\\&#39; + $username + &#39;.png&#39; )\n\nRead-Host &#39;已保存至同级目录下，按回车键退出。&#39;\n</code></pre>\n<p>以上代码的逻辑和我们人工操作是一个流程。运行程序之后，直接根据提示输入玩家 ID 即可，皮肤会自动下载到运行目录中。</p>\n"},{"title":"起点","date":"2021-07-25T23:08:43.000Z","excerpt":"嗨嗨，这里是 Xavier Wah 的庇护所，也是我的个人博客。","_content":"\n嗨嗨，这里是 Xavier Wah 的庇护所，也是我的个人博客。\nMinecraft 和程序设计等内容将会成为庇护所的主要更新内容，偶尔也会上传文学创作的作品。\n截至现在，我终于将所有内容都配置好了。今后我会在这个博客更新一些内容、发布源码等，希望可以多加关注，在这里找到你需要的内容。\n永远好奇，别处见。\n","source":"_posts/起点.md","raw":"---\ntitle: 起点\ndate: 2021-07-26 07:08:43\ncategories: Announcement\ntags: Announcement\nexcerpt: 嗨嗨，这里是 Xavier Wah 的庇护所，也是我的个人博客。\n---\n\n嗨嗨，这里是 Xavier Wah 的庇护所，也是我的个人博客。\nMinecraft 和程序设计等内容将会成为庇护所的主要更新内容，偶尔也会上传文学创作的作品。\n截至现在，我终于将所有内容都配置好了。今后我会在这个博客更新一些内容、发布源码等，希望可以多加关注，在这里找到你需要的内容。\n永远好奇，别处见。\n","slug":"起点","published":1,"updated":"2022-04-22T01:02:27.029Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl2bm7ayx0001tv4w7w9y7uag","content":"<p>嗨嗨，这里是 Xavier Wah 的庇护所，也是我的个人博客。<br>Minecraft 和程序设计等内容将会成为庇护所的主要更新内容，偶尔也会上传文学创作的作品。<br>截至现在，我终于将所有内容都配置好了。今后我会在这个博客更新一些内容、发布源码等，希望可以多加关注，在这里找到你需要的内容。<br>永远好奇，别处见。</p>\n","site":{"data":{}},"more":"<p>嗨嗨，这里是 Xavier Wah 的庇护所，也是我的个人博客。<br>Minecraft 和程序设计等内容将会成为庇护所的主要更新内容，偶尔也会上传文学创作的作品。<br>截至现在，我终于将所有内容都配置好了。今后我会在这个博客更新一些内容、发布源码等，希望可以多加关注，在这里找到你需要的内容。<br>永远好奇，别处见。</p>\n"}],"PostAsset":[{"_id":"source/_posts/获取-Minecraft-正版玩家皮肤/skinFetcher.ps1","post":"cl2bm7ayq0000tv4wbsh85l7l","slug":"skinFetcher.ps1","modified":1,"renderable":1},{"_id":"source/_posts/获取-Minecraft-正版玩家皮肤/skinFetcher.py","post":"cl2bm7ayq0000tv4wbsh85l7l","slug":"skinFetcher.py","modified":1,"renderable":1}],"PostCategory":[{"post_id":"cl2bm7ayq0000tv4wbsh85l7l","category_id":"cl2bm7az10002tv4w52x07dfi","_id":"cl2bm7az70006tv4wahas02rr"},{"post_id":"cl2bm7ayx0001tv4w7w9y7uag","category_id":"cl2bm7az50004tv4wapqu74kb","_id":"cl2bm7az80008tv4w6yn7eyk3"}],"PostTag":[{"post_id":"cl2bm7ayq0000tv4wbsh85l7l","tag_id":"cl2bm7az30003tv4w9gq827u3","_id":"cl2bm7az9000atv4wc6pbgvun"},{"post_id":"cl2bm7ayq0000tv4wbsh85l7l","tag_id":"cl2bm7az60005tv4wchfvdq5q","_id":"cl2bm7az9000btv4wa2t8agk3"},{"post_id":"cl2bm7ayq0000tv4wbsh85l7l","tag_id":"cl2bm7az70007tv4wh932fx1f","_id":"cl2bm7az9000ctv4wewmfd9i8"},{"post_id":"cl2bm7ayx0001tv4w7w9y7uag","tag_id":"cl2bm7az80009tv4w98mgcst5","_id":"cl2bm7az9000dtv4w5a142i09"}],"Tag":[{"name":"Minecraft","_id":"cl2bm7az30003tv4w9gq827u3"},{"name":"Python","_id":"cl2bm7az60005tv4wchfvdq5q"},{"name":"PowerShell","_id":"cl2bm7az70007tv4wh932fx1f"},{"name":"Announcement","_id":"cl2bm7az80009tv4w98mgcst5"}]}}